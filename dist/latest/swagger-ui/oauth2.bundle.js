(this["webpackJsonp@clubmed/swagger-ui"]=this["webpackJsonp@clubmed/swagger-ui"]||[]).push([[3],{1024:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(0),r=a.n(l),o=a(32);var c=Object(o.o)((function(e){var t=e.getComponent,a=e.appName,n=e.isAuthorized,l=e.username,o=e.passwordType,c=e.onChange,s=t("Row"),i=t("Col"),u=function(e){return"".concat(e,"-").concat(a)};return r.a.createElement(s,{className:"mb-2"},r.a.createElement(s,null,r.a.createElement("label",{htmlFor:u("oauth_username")},"username:"),n?r.a.createElement("code",null," ",l," "):r.a.createElement(i,{tablet:10,desktop:10},r.a.createElement("input",{id:u("oauth_username"),type:"text","data-name":"username",onChange:c}))),r.a.createElement(s,null,r.a.createElement("label",{htmlFor:u("oauth_password")},"password:"),n?r.a.createElement("code",null," ****** "):r.a.createElement(i,{tablet:10,desktop:10},r.a.createElement("input",{id:u("oauth_password"),type:"password","data-name":"password",onChange:c}))),r.a.createElement(s,null,r.a.createElement("label",{htmlFor:u("password_type")},"Client credentials location:"),n?r.a.createElement("code",null," ",o," "):r.a.createElement(i,{tablet:10,desktop:10},r.a.createElement("select",{id:u("password_type"),"data-name":"passwordType",onChange:c},r.a.createElement("option",{value:"basic"},"Authorization header"),r.a.createElement("option",{value:"request-body"},"Request body")))))})),s=a(66),i=a(9),u=a(800),m=a.n(u);function d(e){var t=e.value,a=JSON.stringify(JSON.parse(atob(t.split(".")[1])),null,2);return r.a.createElement("div",{className:"border-1 border-gray-light rounded-small mt-2 mb-4"},r.a.createElement("div",{className:"border-b-1 border-gray-light py-1 px-2 font-bold text-blue"},"Payload"),r.a.createElement("div",{className:"rounded-b-small",style:{background:"#414141"}},r.a.createElement("pre",{className:"overflow-auto p-1 example hljs json"},r.a.createElement("code",null,a))))}var p=a(171),h=a(801),E=a.n(h);function b(e){try{return JSON.parse(localStorage.getItem("clientIds"))}catch(t){return{}}}function v(e){return(b()||{})[e]||[]}function f(e,t){var a,n=b()||{};n[e]=E()([].concat(Object(p.a)(v(e)),[{id:t,lastUpdate:new Date}]),"id"),a=n,localStorage.setItem("clientIds",JSON.stringify(a))}function g(e){var t=e.onChange,a=e.appName,n=Object(i.a)(e,["onChange","appName"]),c=Object(l.useState)(n.value),u=Object(s.a)(c,2),d=u[0],p=u[1],h=Object(l.useMemo)((function(){return v(a).sort((function(e,t){return m()(e.lastUpdate).isBefore(t.lastUpdate)?1:-1})).map((function(e){var t=e.id,a=e.lastUpdate;return{label:t+"<div><small>Last use: "+m()(a).fromNow()+"</small></div>",value:t}}))}),[a]);return Object(l.useEffect)((function(){p(n.value)}),[n.value]),r.a.createElement(o.e,Object.assign({},n,{value:d,dataList:h,onChange:function(e,a){p(a),t(n.name,a)},onSelect:function(e){p(e.value),t(n.name,e.value)}}))}var C=Object(o.o)((function(e){var t=e.isAuthorized,a=e.accessToken,n=e.getComponent,l=e.value,o=e.appName,c=e.isRequired,s=e.onChange,i=n("Row"),u="client_id-".concat(o);return r.a.createElement(i,{className:"mb-2"},t?r.a.createElement(d,{value:a}):r.a.createElement("div",null,r.a.createElement(g,{appName:o,label:"Client_id",id:u,value:l,isRequired:c,className:"w-full",onChange:function(e,t){s({target:{dataset:{name:"clientId"},value:t}})}})))}));var w=Object(o.o)((function(e){var t=e.className,a=void 0===t?"":t,n=e.getComponent,l=e.id,o=e.isAuthorized,c=e.value,s=e.onChange,i=n("Row"),u=n("InitializedInput");return l="client_secret-".concat(l),r.a.createElement(i,{className:"mb-2 "+a},r.a.createElement("label",{htmlFor:l},"client_secret:"),o?r.a.createElement("code",null," ****** "):r.a.createElement("div",null,r.a.createElement(u,{id:l,value:c,type:"text","data-name":"clientSecret",className:"w-full",onChange:s})))}));var N=Object(o.o)((function(e){var t=e.id,a=e.getComponent,n=e.choices,l=e.value,o=e.flow,c=e.isAuthorized,s=e.onChange,i=a("Input");return r.a.createElement("div",{className:"scopes mb-2"},r.a.createElement("h2",null,"Scopes:"),r.a.createElement("div",{className:"flex flex-wrap"},n.map((function(e,a){var n="".concat(a,"-").concat(o,"-checkbox-").concat(t);return r.a.createElement("div",{key:a,className:"checkbox flex-grow mr-1"},r.a.createElement(i,{value:a,checked:l.includes(a),"data-value":a,id:n,disabled:c,type:"checkbox",onChange:s}),r.a.createElement("label",{htmlFor:n},r.a.createElement("span",{className:"item"}),r.a.createElement("div",{className:"text"},r.a.createElement("p",{className:"name"},a),r.a.createElement("p",{className:"description"},e))))})).toArray()))}));var O=a(269),S=a(270),z=a(274);function k(e){var t=function(e){var t=e.schema,a=e.specSelectors,l=e.authSelectors,r=e.errSelectors,o=e.name,c=e.clientId,s=function(e){return e.indexOf("Bearer_")>-1?e.split(" (")[1].replace(")",""):e}(o),i=t.get("flow"),u=t.get("allowedScopes")||t.get("scopes"),m=l.authorized().get(o),d=!!m,p=r.allErrors().filter((function(e){return e.get("authId")===o})),h=!p.filter((function(e){return"validation"===e.get("source")})).size,E=t.get("description"),b=a.isOAS3,v=b()?"authorizationCode":"accessCode",f=b()?"clientCredentials":"application";return Object(n.a)({},e,{IMPLICIT:"implicit",PASSWORD:"password",ACCESS_CODE:v,APPLICATION:f,title:s,flow:i,scopesChoices:u,authorizedAuth:m,isAuthorized:d,errors:p,isValid:h,description:E,accessToken:Object(O.a)(l),useAuthorizationUrl:"implicit"===i||i===v,useTokenUrl:"password"===i||i===v||i===f,usePassword:"password"===i,useClientSecret:i===f||i===v||"password"===i,useClientId:(i===f||"implicit"===i||i===v||"password"===i)&&(!d||d&&c),useScopes:!d&&u&&u.size,logoutFromOIDC:function(){return Object(S.a)(Object(z.a)(l))}})}(e),a=t.getComponent,l=t.title,o=t.name,s=t.schema,i=t.flow,u=t.scopes,m=t.scopesChoices,d=t.isAuthorized,p=t.accessToken,h=t.errors,E=t.isValid,b=t.description,v=t.appName,g=t.logoutFromOIDC,k=t.clientId,y=t.clientSecret,A=t.passwordType,I=t.username,j=t.useClientId,T=t.useClientSecret,x=t.useScopes,U=t.usePassword,_=t.useAuthorizationUrl,R=t.useTokenUrl,F=t.onScopeChange,L=t.onChange,P=t.onLogout,q=t.onAuthorize,J=t.onClose,D=a("Button"),B=a("authError"),M=a("JumpToPath",!0),V=a("Markdown");return r.a.createElement("div",null,r.a.createElement("h4",null,l," (",v||"OAuth2",", ",i,") ",r.a.createElement(M,{path:["securityDefinitions",o]})),r.a.createElement("div",{className:"pb-3"},b&&r.a.createElement(V,{source:b}),_&&r.a.createElement("p",null,"Authorization URL: ",r.a.createElement("code",null,s.get("authorizationUrl"))),R&&r.a.createElement("p",null,"Token URL:",r.a.createElement("code",null," ",s.get("tokenUrl"))),r.a.createElement("p",{className:"flow"},"Flow: ",r.a.createElement("code",null,s.get("flow")))),r.a.createElement("div",null,r.a.createElement(c,{getComponent:a,if:U,appName:v,username:I,passwordType:A,isAuthorized:d}),r.a.createElement(C,{getComponent:a,if:j,appName:v,isAuthorized:d,isRequired:U,value:k,accessToken:p,onChange:L}),r.a.createElement(w,{getComponent:a,if:T,appName:v,isAuthorized:d,isRequired:U,value:y,onChange:L}),r.a.createElement(N,{getComponent:a,if:x,id:v,flow:i,choices:m,value:u,isAuthorized:d,onChange:F}),h.valueSeq().map((function(e,t){return r.a.createElement(B,{error:e,key:t})}))),r.a.createElement("div",{className:"auth-btn-wrapper"},E&&(d?r.a.createElement(D,{className:"btn modal-btn auth authorize",onClick:function(e){g(),P(e)}},"Logout"):r.a.createElement(D,{className:"btn modal-btn auth authorize",onClick:function(){v&&k&&f(v,k),q()}},"Authorize")),r.a.createElement(D,{className:"btn modal-btn auth btn-done",onClick:J},"Close")))}a.d(t,"default",(function(){return k}))}}]);