(this["webpackJsonp@clubmed/swagger-ui"]=this["webpackJsonp@clubmed/swagger-ui"]||[]).push([[4],{1570:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(0),r=a.n(l),o=a(89),c=a(29);var s=Object(c.p)((function(e){var t=e.getComponent,a=e.appName,n=e.isAuthorized,l=e.username,o=e.passwordType,c=e.onChange,s=t("Row"),i=t("Col"),u=function(e){return"".concat(e,"-").concat(a)};return r.a.createElement(s,{className:"mb-2"},r.a.createElement(s,null,r.a.createElement("label",{htmlFor:u("oauth_username")},"username:"),n?r.a.createElement("code",null," ",l," "):r.a.createElement(i,{tablet:10,desktop:10},r.a.createElement("input",{id:u("oauth_username"),type:"text","data-name":"username",onChange:c}))),r.a.createElement(s,null,r.a.createElement("label",{htmlFor:u("oauth_password")},"password:"),n?r.a.createElement("code",null," ****** "):r.a.createElement(i,{tablet:10,desktop:10},r.a.createElement("input",{id:u("oauth_password"),type:"password","data-name":"password",onChange:c}))),r.a.createElement(s,null,r.a.createElement("label",{htmlFor:u("password_type")},"Client credentials location:"),n?r.a.createElement("code",null," ",o," "):r.a.createElement(i,{tablet:10,desktop:10},r.a.createElement("select",{id:u("password_type"),"data-name":"passwordType",onChange:c},r.a.createElement("option",{value:"basic"},"Authorization header"),r.a.createElement("option",{value:"request-body"},"Request body")))))})),i=a(36),u=a(8),m=a(328),d=a.n(m),p=a(327);function h(e){var t=e.value,a=JSON.stringify(Object(p.a)(t),null,2);return r.a.createElement("div",{className:"border-1 border-gray-light rounded-small mt-2 mb-4"},r.a.createElement("div",{className:"border-b-1 border-gray-light py-1 px-2 font-bold text-blue"},"Payload"),r.a.createElement("div",{className:"rounded-b-small",style:{background:"#414141"}},r.a.createElement("pre",{className:"overflow-auto p-1 example hljs json"},r.a.createElement("code",null,a))))}function E(e){var t=e.onChange,a=e.appName,n=Object(u.a)(e,["onChange","appName"]),s=Object(l.useState)(n.value),m=Object(i.a)(s,2),p=m[0],h=m[1],E=Object(l.useMemo)((function(){return Object(o.a)(a,[]).sort((function(e,t){return d()(e.lastUpdate).isBefore(t.lastUpdate)?1:-1})).map((function(e){var t=e.id,a=e.lastUpdate;return{label:t+"<div><small>Last use: "+d()(a).fromNow()+"</small></div>",value:t}}))}),[a]);return Object(l.useEffect)((function(){h(n.value)}),[n.value]),r.a.createElement(c.f,Object.assign({},n,{value:p,options:E,onChange:function(e,a){h(a),t(n.name,a)},onSelect:function(e){h(e.value),t(n.name,e.value)}}))}var b=Object(c.p)((function(e){var t=e.isAuthorized,a=e.accessToken,n=e.getComponent,l=e.value,o=e.appName,c=e.isRequired,s=e.onChange,i=n("Row"),u="client_id-".concat(o);return r.a.createElement(i,{className:"mb-2"},t?r.a.createElement(h,{value:a}):r.a.createElement("div",null,r.a.createElement(E,{appName:o,label:"Client_id",id:u,value:l,isRequired:c,className:"w-full",onChange:function(e,t){s({target:{dataset:{name:"clientId"},value:t}})}})))}));var f=Object(c.p)((function(e){var t=e.className,a=void 0===t?"":t,n=e.getComponent,l=e.id,o=e.isAuthorized,c=e.value,s=e.onChange,i=n("Row"),u=n("InitializedInput");return l="client_secret-".concat(l),r.a.createElement(i,{className:"mb-2 "+a},r.a.createElement("label",{htmlFor:l},"client_secret:"),o?r.a.createElement("code",null," ****** "):r.a.createElement("div",null,r.a.createElement(u,{id:l,value:c,type:"text","data-name":"clientSecret",className:"w-full",onChange:s})))}));var v=Object(c.p)((function(e){var t=e.id,a=e.getComponent,n=e.choices,l=e.value,o=e.flow,c=e.isAuthorized,s=e.onChange,i=a("Input");return r.a.createElement("div",{className:"scopes mb-2"},r.a.createElement("h2",null,"Scopes:"),r.a.createElement("div",{className:"flex flex-wrap"},n.map((function(e,a){var n="".concat(a,"-").concat(o,"-checkbox-").concat(t);return r.a.createElement("div",{key:a,className:"checkbox flex-grow mr-1"},r.a.createElement(i,{value:a,checked:l.includes(a),"data-value":a,id:n,disabled:c,type:"checkbox",onChange:s}),r.a.createElement("label",{htmlFor:n},r.a.createElement("span",{className:"item"}),r.a.createElement("div",{className:"text"},r.a.createElement("p",{className:"name"},a),r.a.createElement("p",{className:"description"},e))))})).toArray()))}));function g(e){var t=function(e){if(e.authorized().size)return Object.keys(e.authorized().toJSON())[0]}(e);if(t)return e.authorized().get(t)}function C(e){var t=g(e);if(t)return t.get("token")&&t.get("token").get("access_token")}var w=a(411);function N(e){var t=function(e){var t=e.schema,a=e.specSelectors,l=e.authSelectors,r=e.errSelectors,o=e.name,c=e.clientId,s=function(e){return e.indexOf("Bearer_")>-1?e.split(" (")[1].replace(")",""):e}(o),i=t.get("flow"),u=t.get("allowedScopes")||t.get("scopes"),m=l.authorized().get(o),d=!!m,p=r.allErrors().filter((function(e){return e.get("authId")===o})),h=!p.filter((function(e){return"validation"===e.get("source")})).size,E=t.get("description"),b=a.isOAS3,f=b()?"authorizationCode":"accessCode",v=b()?"clientCredentials":"application";return Object(n.a)(Object(n.a)({},e),{},{IMPLICIT:"implicit",PASSWORD:"password",ACCESS_CODE:f,APPLICATION:v,title:s,flow:i,scopesChoices:u,authorizedAuth:m,isAuthorized:d,errors:p,isValid:h,description:E,accessToken:C(l),useAuthorizationUrl:"implicit"===i||i===f,useTokenUrl:"password"===i||i===f||i===v,usePassword:"password"===i,useClientSecret:i===v||i===f||"password"===i,useClientId:(i===v||"implicit"===i||i===f||"password"===i)&&(!d||d&&c),useScopes:!d&&u&&u.size,logoutFromOIDC:function(){return Object(w.a)(g(l))}})}(e),a=t.getComponent,l=t.title,c=t.name,i=t.schema,u=t.flow,m=t.scopes,d=t.scopesChoices,p=t.isAuthorized,h=t.accessToken,E=t.errors,N=t.isValid,z=t.description,k=t.appName,O=t.logoutFromOIDC,A=t.clientId,y=t.clientSecret,S=t.passwordType,j=t.username,I=t.useClientId,T=t.useClientSecret,x=t.useScopes,_=t.usePassword,R=t.useAuthorizationUrl,U=t.useTokenUrl,F=t.onScopeChange,P=t.onChange,q=t.onLogout,L=t.onAuthorize,D=t.onClose,J=a("Button"),B=a("authError"),M=a("JumpToPath",!0),V=a("Markdown");return r.a.createElement("div",null,r.a.createElement("h4",null,l," (",k||"OAuth2",", ",u,") ",r.a.createElement(M,{path:["securityDefinitions",c]})),r.a.createElement("div",{className:"pb-3"},z&&r.a.createElement(V,{source:z}),R&&r.a.createElement("p",null,"Authorization URL: ",r.a.createElement("code",null,i.get("authorizationUrl"))),U&&r.a.createElement("p",null,"Token URL:",r.a.createElement("code",null," ",i.get("tokenUrl"))),r.a.createElement("p",{className:"flow"},"Flow: ",r.a.createElement("code",null,i.get("flow")))),r.a.createElement("div",null,r.a.createElement(s,{getComponent:a,if:_,appName:k,username:j,passwordType:S,isAuthorized:p}),r.a.createElement(b,{getComponent:a,if:I,appName:k,isAuthorized:p,isRequired:_,value:A,accessToken:h,onChange:P}),r.a.createElement(f,{getComponent:a,if:T,appName:k,isAuthorized:p,isRequired:_,value:y,onChange:P}),r.a.createElement(v,{getComponent:a,if:x,id:k,flow:u,choices:d,value:m,isAuthorized:p,onChange:F}),E.valueSeq().map((function(e,t){return r.a.createElement(B,{error:e,key:t})}))),r.a.createElement("div",{className:"auth-btn-wrapper"},N&&(p?r.a.createElement(J,{className:"btn modal-btn auth authorize",onClick:function(e){O(),q(e)}},"Logout"):r.a.createElement(J,{className:"btn modal-btn auth authorize",onClick:function(){k&&A&&Object(o.b)(k,A),L()}},"Authorize")),r.a.createElement(J,{className:"btn modal-btn auth btn-done",onClick:D},"Close")))}a.d(t,"default",(function(){return N}))}}]);